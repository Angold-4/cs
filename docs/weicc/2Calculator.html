<!DOCTYPE html>
<html lang="en"
      xmlns:og="http://ogp.me/ns#"
      xmlns:fb="https://www.facebook.com/2008/fbml">
<head>
    <title>Angold-4 Organization</title>
    <!-- Using the latest rendering mode for IE -->
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    
    <link href="../../../images/favicon.png" rel="icon">

<link rel="canonical" href=".">
        <meta name="author" content="Angold Wang" />

    <meta property="og:site_name" content="Angold-4" />
<!--     <meta property="og:type" content="article"/> -->
    <meta property="og:title" content="Angold-4 Organization"/>
    <meta property="og:url" content="."/>

    <!-- Bootstrap -->
        <link rel="stylesheet" href="../../../theme/css/bootstrap.flatly.min.css" type="text/css"/>
    <link href="../../../theme/css/font-awesome.min.css" rel="stylesheet">
<!--     <link href="https://cdnjs.cloudflare.com/ajax/libs/typicons/2.0.9/typicons.min.css" rel="stylesheet"> -->

    <link href="../../../theme/css/pygments/monokai.css" rel="stylesheet">
    <link rel="stylesheet" href="../../../theme/css/style.css" type="text/css"/>

</head>
<body>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.1/jquery.min.js"></script>
<!-- <script src="https://code.jquery.com/jquery-2.2.4.min.js" integrity="sha256-BbhdlvQf/xTY9gja0Dq3HiwQF8LaCRTXxZKRutelT44=" crossorigin="anonymous"></script> -->

<div class="navbar navbar-default navbar-fixed-top" role="navigation">
    <div class="container">
        <div class="navbar-header">
            <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-ex1-collapse">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>
            <a href="http://angold4.org" class="navbar-brand">
<img src="../../../images/logo.png" width="32"/> Angold4            </a>
        </div>
        <div class="collapse navbar-collapse navbar-ex1-collapse">
            <ul class="nav navbar-nav">
			    <li><a href="../../../about.html">About</a>
                            <li><a href="../../../blogs.html">Blogs</a>
                            <li><a href="../../../projects.html">Projects</a>

	    </ul>
            <ul class="nav navbar-nav navbar-right">
                <li> <a title="Youtube" href="https://www.youtube.com/channel/UC3ZAjh2LHhm-FrgxgBtgMzQ" target="_new"><i class="fa fa-youtube"></i> Youtube</a>
		</li>
        </div>
        <!-- /.navbar-collapse -->
    </div>
</div> <!-- /.navbar -->


<div class="container">
    <div class="row">
        <div class="col-lg-12">
	<section id="content" class="body">



<h2>An introduction to creating a C compiler - weicc</h2>
<h1>2. Calculator-level Language Creation</h1>
<p><img src="Sources/ultra.jpg" alt="ultra"></p>
<p>In the <strong><a href="https://angold4.org/cs/docs/weicc/1Thompson1984.html">previous ariticle</a></strong> of this series. <strong>I gave you some sort of &quot;taste&quot; of a compiler by giving a simple 30-line C program, which is a small compiler that can only generate code of add and substract operations.</strong></p>
<p>After you compile and test that code on your machine, back to the implementation, you may wonder the difference between mordern compiler and this small &quot;compiler&quot;: they all meet the definition of a compiler.</p>
<p>So, what is the difference? In my opinion, like I mentioned in <strong><a href="https://angold4.org/cs/docs/lectures/1Introduction.html">cs.1 Introduction</a></strong>:</p>
<blockquote>
<p><strong>To reduce the complexity of implementation, people divide the whole compiler into different <em>stages</em>.</strong></p>
</blockquote>
<p>Theoretically, a single-pass, monolithic compiler structure would work, but it hard to implement, especially in <strong>debugging</strong> and <strong>cooperating</strong>, if you implement a compiler in this way (we did it in this 30-line code), the whole compiler is just a <strong>Code Generator</strong> (so-called the <strong>Back End</strong>).</p>
<p><img src="Sources/stages.png" alt="stages"></p>
<p>However, the mordern compiler, who recieves some unknown, unpredictable input stream, just like I said before, it is difficult to use a single <strong>Code Generator</strong> to emit code for such complex input sources.</p>
<p><strong>&quot;Dividing compiler into multiple stages&quot;</strong> is a very brilliant idea, not only does it reduce the complexity of implementing a mordern compiler by making the differet stages independently, but it also make it way much easier for the student to understand a mordern compiler.</p>
<p>But at the same time, we should also notice the side-effects of this design choice: <strong>It is easy to bring an illusion to the beginner that all compilers should contain these 4 or 5 different stages.</strong> If they learn the compiler stage by stage, which means, only learn the parser after they fully understand the tokenizer, only touch code generator after they fully understand the front end, etc., I believe it is not the correct way:</p>
<ol>
<li>
<p><strong>Since each part's output (immediate code) is used for the next part (in the other words, the earlier part &quot;serves&quot; the later part ), there is no &quot;fully understand&quot; before you touch the next part and knowing that what does it want.</strong></p>
</li>
<li>
<p><strong>In general, the compiler should never be developed from stage to stage, it always start with a full-stages, small piece of code, and after adding more features to each part gradually at the same time. Finially becomes the &quot;complex mordern compiler&quot;.</strong></p>
</li>
</ol>
<p><strong>In our example here, this &quot;30-line c code&quot; is nothing but a small code generator due to the simple and predictable input source. But if we want to add more features to this compiler, we should add more stages in order to help our code generator emit code.</strong></p>
<p>I think that is one of the correct way to understand a compiler, and what I am going to do in this Chapter is add a <strong>Tokenizer</strong> and a <strong>Parser</strong> to our compiler in order to support more complex operations like <strong>division <code>/</code></strong> and **multiplicatin <code>*</code> **.</p>
<h2>1. Tokenizer</h2>
<h2>2. Parser</h2>
	</section>
	</div>
    </div>

<div id="disqus_thread"></div>
<script>
    var disqus_config = function () {
this.page.url = "https://angold4.org/cs/docs/weicc/2Calculator.html"
this.page.identifier = "cs/docs/weicc/2Calculator.html"

    };
    (function() { // DON'T EDIT BELOW THIS LINE
    var d = document, s = d.createElement('script');
    s.src = 'https://angold.disqus.com/embed.js';
    s.setAttribute('data-timestamp', +new Date());
    (d.head || d.body).appendChild(s);
    })();
</script>

<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>

</div>
<footer>
   <div class="well well-lg" id="footer-well">
      <div class="container">


      <div class="row">
         <div class="col-xs-6">
            <a href="https://angold4.org" title="Angold-4 Organization" class="image-link"><img src="../../../images/logo.png" class="cmudb-logo" /></a>
         </div>
         <div class="col-xs-6">
            <p class="pull-right"><i class="fa fa-arrow-up"></i> <a href="#">Back to top</a></p>
        </div>
      </div>
   </div>
   </div>
</footer>
<!-- Include all compiled plugins (below), or include individual files as needed -->
<script src="../../../theme/js/bootstrap.min.js"></script>

<!-- Enable responsive features in IE8 with Respond.js (https://github.com/scottjehl/Respond) -->
<script src="../../../theme/js/respond.min.js"></script>

<!-- Fix scrolling issues to internal HREFs that get positioned behind navbar -->
<!-- http://stackoverflow.com/questions/10732690/offsetting-an-html-anchor-to-adjust-for-fixed-header -->
<script src="../../../theme/js/href_scroll.js"></script>

<!-- You know what this is and you know what he did to me... -->
<script src="../../../theme/js/tim-kraska-betrayed-me.js"></script>
</body>
</html>

